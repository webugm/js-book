<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="utility.js" type="text/javascript"></script>
    <script>
      var XHR = null;
      
      function startRequest() {
        XHR = createXMLHttpRequest();
        XHR.open("GET", "poetry.txt", true);
        XHR.onreadystatechange = handleStateChange; 
        XHR.send(null);
      }
      
      function handleStateChange() {
        if (XHR.readyState == 4) {
          if (XHR.status == 200)
            document.getElementById("span1").innerHTML = XHR.responseText;
          else
            window.alert("檔案開啟錯誤!");
        }
      }
    </script>
  </head>
  <body>
    <form id="form1">
      <input id="button1" type="button" value="顯示詩句" onclick="startRequest()">
      <br><br> <span id="span1"></span>
    </form>
  </body>
</html>
